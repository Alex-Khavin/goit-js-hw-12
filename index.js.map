{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nexport async function fetchData(options) {\n    try {\n        const response = await axios.get(`https://pixabay.com/api/?`, options);\n        if (!response.data?.hits?.length) {\n               throw new Error(\"Sorry, there are no images matching your search query. Please try again!\");\n           }\n           return response.data.hits;\n    } catch (error) {\n        iziToast.show({\n            message: `${error.message}`,\n            messageColor: 'white',\n            iconUrl: '/blocked.svg',\n            position: 'topRight',\n            color: '#ef4040',\n        });\n           return [];\n    }\n};\n     \n","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nexport function markupImg(cards) {\n  return cards\n  .map(card => {\n    return `<li class=\"gallery-item\">\n    <a class=\"gallery-link\" href=\"${card.largeImageURL}\">\n    <img\n    class=\"gallery-image\"\n    src=\"${card.webformatURL}\"\n    alt=\"${card.tags.slice(0, 120)}\"\n    />\n    </a>\n    <div class=\"item-subtitle\">\n    <p class=\"item-text\"><b>Likes</b> ${card.likes}</p>\n    <p class=\"item-text\"><b>Views</b> ${card.views}</p>\n    <p class=\"item-text\"><b>Comments</b> ${card.comments}</p>\n    <p class=\"item-text\"><b>Downloads</b> ${card.downloads}</p>\n    </div>\n    </li>`;\n  })\n  .join(\"\");\n}\n\nexport let gallery = new SimpleLightbox('.gallery a', { captionsData: \"alt\", captionDelay: 250 });","import { fetchData } from \"./js/pixabay-api\";\nimport { markupImg } from \"./js/render-functions\"\nimport { gallery } from \"./js/render-functions\";\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nlet inputData = \"\";\n\nconst options = {\n    params: {\n        key: \"49358798-a0fde913d86352b572e9384bf\",\n        q: \"\",\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: true,\n        }\n};\n\nconst formData = document.querySelector(\".form\");\nconst formInput = document.querySelector(\"input\");\nconst galleryList = document.querySelector(\".gallery\");\nconst loader = document.querySelector(\".loader\");\n\nformData.addEventListener(\"submit\", formSubmit);\nformInput.addEventListener(\"input\", onInput);\n\n\nfunction onInput(event) {\n    inputData = event.target.value.trim();\n};\n\nasync function formSubmit(event) {\n    event.preventDefault();\n    const form = event.currentTarget;\n\n    if (inputData === \"\") {\n         iziToast.show({\n                message: 'Fill in the search field!',\n                messageColor: 'white',\n                iconUrl: '/blocked.svg',\n                position: 'topRight',\n                color: '#ef4040',\n         });\n        form.reset();\n        return;\n    }\n\n    options.params.q = inputData;\n\n    galleryList.innerHTML = \"\";\n    loader.classList.remove(\"hidden\");\n\n    try {\n        const images = await fetchData(options);\n        galleryList.insertAdjacentHTML(\"beforeend\", markupImg(images));\n        gallery.refresh();\n    } finally {\n        loader.classList.add(\"hidden\");\n    }\n\n    form.reset();\n    inputData = \"\";\n}\n\n\n\n\n\n\n\n\n\n"],"names":["fetchData","options","response","axios","_b","_a","error","iziToast","markupImg","cards","card","gallery","SimpleLightbox","inputData","formData","formInput","galleryList","loader","formSubmit","onInput","event","form","images"],"mappings":"owBAIO,eAAeA,EAAUC,EAAS,SACrC,GAAI,CACA,MAAMC,EAAW,MAAMC,EAAM,IAAI,4BAA6BF,CAAO,EACrE,GAAI,GAACG,GAAAC,EAAAH,EAAS,OAAT,YAAAG,EAAe,OAAf,MAAAD,EAAqB,QACnB,MAAM,IAAI,MAAM,0EAA0E,EAE9F,OAAOF,EAAS,KAAK,IAC3B,OAAQI,EAAO,CACZ,OAAAC,EAAS,KAAK,CACV,QAAS,GAAGD,EAAM,OAAO,GACzB,aAAc,QACd,QAAS,eACT,SAAU,WACV,MAAO,SACnB,CAAS,EACS,EACb,CACL,CClBO,SAASE,EAAUC,EAAO,CAC/B,OAAOA,EACN,IAAIC,GACI;AAAA,oCACyBA,EAAK,aAAa;AAAA;AAAA;AAAA,WAG3CA,EAAK,YAAY;AAAA,WACjBA,EAAK,KAAK,MAAM,EAAG,GAAG,CAAC;AAAA;AAAA;AAAA;AAAA,wCAIMA,EAAK,KAAK;AAAA,wCACVA,EAAK,KAAK;AAAA,2CACPA,EAAK,QAAQ;AAAA,4CACZA,EAAK,SAAS;AAAA;AAAA,UAGvD,EACA,KAAK,EAAE,CACV,CAEO,IAAIC,EAAU,IAAIC,EAAe,aAAc,CAAE,aAAc,MAAO,aAAc,IAAK,EClB5FC,EAAY,GAEhB,MAAMZ,EAAU,CACZ,OAAQ,CACJ,IAAK,qCACL,EAAG,GACH,WAAY,QACZ,YAAa,aACb,WAAY,EACX,CACT,EAEMa,EAAW,SAAS,cAAc,OAAO,EACzCC,EAAY,SAAS,cAAc,OAAO,EAC1CC,EAAc,SAAS,cAAc,UAAU,EAC/CC,EAAS,SAAS,cAAc,SAAS,EAE/CH,EAAS,iBAAiB,SAAUI,CAAU,EAC9CH,EAAU,iBAAiB,QAASI,CAAO,EAG3C,SAASA,EAAQC,EAAO,CACpBP,EAAYO,EAAM,OAAO,MAAM,KAAI,CACvC,CAEA,eAAeF,EAAWE,EAAO,CAC7BA,EAAM,eAAc,EACpB,MAAMC,EAAOD,EAAM,cAEnB,GAAIP,IAAc,GAAI,CACjBN,EAAS,KAAK,CACP,QAAS,4BACT,aAAc,QACd,QAAS,eACT,SAAU,WACV,MAAO,SACvB,CAAU,EACFc,EAAK,MAAK,EACV,MACH,CAEDpB,EAAQ,OAAO,EAAIY,EAEnBG,EAAY,UAAY,GACxBC,EAAO,UAAU,OAAO,QAAQ,EAEhC,GAAI,CACA,MAAMK,EAAS,MAAMtB,EAAUC,CAAO,EACtCe,EAAY,mBAAmB,YAAaR,EAAUc,CAAM,CAAC,EAC7DX,EAAQ,QAAO,CACvB,QAAc,CACNM,EAAO,UAAU,IAAI,QAAQ,CAChC,CAEDI,EAAK,MAAK,EACVR,EAAY,EAChB"}